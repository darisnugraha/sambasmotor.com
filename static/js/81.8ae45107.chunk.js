(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{1020:function(e,a,t){"use strict";t.r(a);var s=t(0),i=t.n(s),n=t(7),l=t(41),o=t(24),c=t(16),d=t.n(c),r=t(18),h=t(5),m=t(131),b=t(42),p=t.n(b),k=t(9),g=t(49),v=t(132);const _=Object(s.lazy)(()=>t.e(38).then(t.bind(null,989))),u=(e,a)=>{d.a.fire({title:"Anda Yakin !!",text:"Ingin Menghapus Data Ini ?",icon:"warning",position:"top-center",cancelButtonText:"Tidak",showCancelButton:!0,confirmButtonText:"OK",showConfirmButton:!0}).then(t=>{t.isConfirmed&&Object(k.a)("lokasi-selving/delete/"+e).then(()=>Object(r.b)("Data Berhasil Di Hapus")).then(()=>a(Object(h.Pb)()))})};a.default=Object(o.b)(e=>({hideModal:e.datamaster.modalDialog,onSend:e.datamaster.onSend,listselfing:e.datamaster.listselfing}),null)(class extends i.a.Component{constructor(e){super(e),this.state={isEdit:!1,modalDialog:!1,isLoading:!1,columns:[{dataField:"kode_lokasi_rak",text:"Kode Rak",sort:!0},{dataField:"kode_lokasi_selving",text:"Kode Shelving"},{dataField:"nama_lokasi_selving",text:"Nama Shelving"},{dataField:"action",text:"Action",csvExport:!1,headerClasses:"text-center",formatter:(e,a)=>{let t={kode_rak:a.kode_lokasi_rak,kode_selving:a.kode_lokasi_selving,nama_selving:a.nama_lokasi_selving};return this.setState({}),i.a.createElement("div",{className:"row text-center"},i.a.createElement("div",{className:"col-12"},i.a.createElement("button",{onClick:()=>this.editModal(t),className:"btn btn-warning mr-3"},"Edit",i.a.createElement("i",{className:"fa fa-edit ml-2"})),i.a.createElement("button",{onClick:()=>u(a.kode_lokasi_selving,this.props.dispatch),className:"btn btn-danger"},"Hapus",i.a.createElement("i",{className:"fa fa-trash ml-2"}))))}}],datakategori:[{kode_rak:"RAK001",nama_selving:"RAK 1",kode_selving:"RAK 1"}]}}componentDidMount(){this.props.dispatch(Object(h.Pb)())}editModal(e){this.props.dispatch(Object(h.Wb)()),this.props.dispatch(Object(h.rb)(e)),this.setState({isEdit:!0})}tambahModal(){this.props.dispatch(Object(h.Wb)()),this.props.dispatch(Object(h.rb)("")),this.setState({isEdit:!1})}handleSubmit(e){let a={kode_lokasi_rak:e.kode_rak||"-",kode_lokasi_selving:e.kode_selving||"-",nama_lokasi_selving:e.nama_selving||"-"};this.state.isEdit?Object(k.d)(this.props.dispatch,"lokasi-selving/update/by-kode-lokasi-selving/"+e.kode_selving,{kode_lokasi_rak:e.kode_rak||"-",nama_lokasi_selving:e.nama_selving||"-"}).then(()=>Object(r.b)("Berhasil Dirubah")).then(()=>this.props.dispatch(Object(g.a)(""))).then(()=>this.props.dispatch(Object(h.Tb)())).then(()=>this.props.dispatch(Object(h.Pb)())).catch(()=>Object(r.a)("Sepertinya ada gangguan, Mohon ulang beberapa saat lagi")):Object(k.c)("lokasi-selving/add",a).then(()=>Object(r.b)("Berhasil Ditambahkan")).then(()=>this.props.dispatch(Object(g.a)("dataSelving"))).then(()=>this.props.dispatch(Object(h.Tb)())).then(()=>this.props.dispatch(Object(h.Pb)())).catch(a=>this.handleReactive(a,e.kode_selving,{kode_lokasi_rak:e.kode_rak,nama_lokasi_selving:e.nama_selving}))}handleReactive(e,a,t){this.props.dispatch(Object(h.Tb)()),e.response.data.includes("hapus")?Object(r.m)(e,a,"lokasi-selving/reactive/",t,"lokasi-selving/update/by-kode-lokasi-selving/").then(()=>this.props.dispatch(Object(h.Pb)())):Object(r.a)("Data Gagal Ditambahkan")}render(){return i.a.createElement("div",null,i.a.createElement("ol",{className:"breadcrumb float-xl-right"},i.a.createElement("li",{className:"breadcrumb-item"},i.a.createElement(n.b,{to:"#"},"Data Master")),i.a.createElement("li",{className:"breadcrumb-item active"},"Master Shelving")),i.a.createElement("h1",{className:"page-header"},"Master Shelving "),i.a.createElement(l.a,null,i.a.createElement(l.c,null,"Master Shelving"),i.a.createElement(l.b,null,i.a.createElement("br",null),i.a.createElement("div",{className:"col-lg-12"},i.a.createElement(v.a,{keyField:"kode_lokasi_selving",data:this.props.listselfing||[],columns:this.state.columns,CSVExport:!0,tambahData:!0,handleClick:()=>this.tambahModal()})),i.a.createElement("br",null)),i.a.createElement(m.a,{title:this.state.isEdit?"Edit Data Selving":"Tambah Data Selving",content:i.a.createElement(s.Suspense,{fallback:i.a.createElement(p.a,{width:"100%",height:50,count:2})},i.a.createElement(_,{onSubmit:e=>this.handleSubmit(e),onSend:this.props.onSend,isEdit:this.state.isEdit}))})))}})}}]);
//# sourceMappingURL=81.8ae45107.chunk.js.map
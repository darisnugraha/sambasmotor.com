(window.webpackJsonp=window.webpackJsonp||[]).push([[89],{1060:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),o=t(28),r=t(7),c=t(5),s=t(9),i=t(18),m=t(41),p=t(60),d=(t(133),t(33));var g=(e="",a="",t="",n)=>{const l=new p.default;let o=[],r=40;l.setFontSize(15),l.text("MEDICAL REPORT",14,15),l.setFontSize(10),l.text("Tanggal : ".concat(e," s/d ").concat(a),14,25),l.text("Nomor Polisi : ".concat(t),14,30),n.forEach((e,a)=>{let t=[e.tanggal,e.km,e.keterangan_service,e.sparepart,e.qty,e.satuan,e.mekanik];o.push(t)}),l.autoTable({head:[[{content:"TANGGAL"},{content:"KM"},{content:"KETERANGAN SERVICE"},{content:"SPAREPART"},{content:"QTY"},{content:"SATUAN"},{content:"MEKANIK"}]],body:o,startY:35,theme:"plain",rowPageBreak:"avoid",margin:{top:20},bodyStyles:{lineWidth:.02,lineColor:"#000"},headStyles:{lineWidth:.02,lineColor:"#000",fillColor:[212,212,211]}}),r=l.autoTableEndPosY()+10,l.text("User\t: ".concat(Object(i.l)().user_name),14,r+10),l.text("Cetak\t: ".concat(Object(d.c)()),14,r+16),l.text("Valid\t: ".concat(Object(i.l)().user_name),14,r+22);const c=l.internal.getNumberOfPages(),s=l.internal.pageSize.width,m=l.internal.pageSize.height;l.setFontSize(10);for(let i=1;i<c+1;i++){let e=s/2,a=m-10;l.setPage(i),l.text("".concat(i," of ").concat(c),e,a,{align:"center"})}l.autoPrint();var g="<embed width='100%' height='100%' src='"+l.output("datauristring")+"'/>",h=window.open();h.document.open(),h.document.write(g)},h=t(197),b=t(198);class u extends n.Component{constructor(e){super(e),this.state={}}componentDidMount(){this.props.dispatch(Object(c.xb)())}render(){return l.a.createElement("form",{onSubmit:this.props.handleSubmit},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-3"},l.a.createElement(h.a,{name:"nopol_kendaran",component:i.e,options:this.props.listcustomer.map(e=>{return{value:e.nopol_kendaraan,name:"".concat(e.nopol_kendaraan," - ").concat(e.nama_customer)}}),type:"text",label:"Nomor Polisi",placeholder:"Masukan Nomor Polisi"})),l.a.createElement("div",{className:"col-lg-3"},l.a.createElement(h.a,{name:"tanggal_awal",component:i.c,type:"date",label:"Dari Tanggal",placeholder:"Masukan Tanggal Awal"})),l.a.createElement("div",{className:"col-lg-3"},l.a.createElement(h.a,{name:"tanggal_akhir",component:i.c,type:"date",label:"Sampai Tanggal",placeholder:"Masukan Sampai Tanggal"})),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("div",{className:"text-right"},l.a.createElement("button",{className:"btn btn-primary",disabled:this.props.onSend},this.props.onSend?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Menyiapkan Laporan"):l.a.createElement(l.a.Fragment,null,"Lihat Data ",l.a.createElement("i",{className:"fa fa-print ml-3 "})))))))}}u=Object(b.a)({form:"HeadLaporanMedicalReport",enableReinitialize:!0})(u);var E=Object(o.b)(e=>({listcustomer:e.datamaster.listcustomer,onSend:e.datamaster.onSend}))(u);a.default=Object(o.b)()(class extends n.Component{constructor(e){super(e),this.state={listLaporan:[]}}getLaporan(e){this.props.dispatch(Object(c.Vb)()),Object(s.b)("laporan/service/medical-report/"+"".concat(e.tanggal_awal,"&").concat(e.tanggal_akhir,"&").concat(e.nopol_kendaran)).then(e=>{if(e.data)return Object(i.h)("Data Laporan Kosong"),!1;this.setState({listLaporan:e&&e.data})}).then(()=>this.state.listLaporan.length?g(e.tanggal_awal,e.tanggal_akhir,e.nopol_kendaran,this.state.listLaporan):Object(i.h)("Data Laporan Kosong")).then(()=>this.props.dispatch(Object(c.Ub)())).catch(e=>Object(i.h)("Gagal Mengambil Data, Detail : ".concat(e.response.data)).then(()=>this.props.dispatch(Object(c.Ub)())))}render(){return l.a.createElement("div",null,l.a.createElement("ol",{className:"breadcrumb float-xl-right"},l.a.createElement("li",{className:"breadcrumb-item"},l.a.createElement(r.b,{to:"#"},"Laporan")),l.a.createElement("li",{className:"breadcrumb-item active"},"Laporan Medical Report")),l.a.createElement("h1",{className:"page-header"},"Laporan Medical Report "),l.a.createElement(m.a,null,l.a.createElement(m.c,null,"Laporan Medical Report"),l.a.createElement(m.b,null,l.a.createElement(E,{onSubmit:e=>this.getLaporan(e)}))))}})}}]);
//# sourceMappingURL=89.4b6d4010.chunk.js.map
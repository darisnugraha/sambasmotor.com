(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{1003:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),s=t(28),r=t(197),c=t(198),m=t(18),o=t(5),i=t(487),p=t(33),d=t(9);class u extends n.Component{constructor(e){super(e),this.state={member:!1,reguler:!1,listCustomer:[]}}handleChange(e,a){let t=(a||"DEFAULT|DEFAULT").split("|");this.props.change(e,t[1])}componentDidMount(){this.props.dispatch(Object(o.xb)()),this.props.dispatch(Object(o.Gb)()),this.props.dispatch(Object(o.Nb)()),this.props.change("tanggal",Object(p.c)()),Object(o.xb)()}getMember(){this.setState({member:!0,reguler:!1}),this.props.change("pelaggan",""),Object(d.b)("member/get-member-all").then(e=>this.setState({listCustomer:e&&e.data.map(e=>{return{value:"".concat(e.nama_customer,"||").concat(e.alamat,"||").concat(e.handphone,"||").concat(e.nopol_kendaraan),name:e.nama_customer}})})).catch(()=>Object(m.h)("Error Get Member"))}getCustomer(){this.setState({member:!1,reguler:!0}),this.props.change("pelaggan",""),Object(d.b)("customer/get/all").then(e=>this.setState({listCustomer:e&&e.data.map(e=>{return{value:"".concat(e.nama_customer,"||").concat(e.alamat,"||").concat(e.handphone,"||").concat(e.nopol_kendaraan),name:e.nama_customer}})}))}render(){return l.a.createElement("div",null,l.a.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:e=>{"Enter"===e.key&&e.preventDefault()}},l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-2"},l.a.createElement("label",{className:"mb-4"},"Jenis Penjualan"),l.a.createElement("div",null,l.a.createElement("label",null,l.a.createElement(r.a,{name:"jenis_penjualan",component:"input",type:"radio",value:"member",className:"mr-3",onClick:()=>this.getMember(),checked:this.state.member}),"Member"),l.a.createElement("label",{className:"ml-3"},l.a.createElement(r.a,{name:"jenis_penjualan",component:"input",type:"radio",value:"reguler",className:"mr-3",onClick:()=>this.getCustomer(),checked:this.state.reguler}),"Reguler"))),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(r.a,{name:"pelaggan",component:m.e,options:this.state.listCustomer,onChange:e=>this.props.change("nopol_kendaraan",e.split("||")[3]),type:"text",label:"Nama customer",placeholder:"Nama customer",validate:i.a,loading:this.props.listCustomer===[]})),l.a.createElement("div",{className:"col-lg-3 d-none"},l.a.createElement(r.a,{name:"nopol_kendaraan",component:m.c,type:"text",label:"nopol",placeholder:"Masukan nopol"})),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(r.a,{name:"kategori_service",component:m.e,options:this.props.listkategoriservice.map(e=>{return{value:e.jenis_service,name:e.jenis_service}}),type:"text",label:"Jenis Service",placeholder:"Jenis Service",validate:i.a,loading:this.props.listkategoriservice===[]})),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(r.a,{name:"tanggal",component:m.c,type:"date",label:"Tanggal Pelayanan",placeholder:"Masukan Tanggal Pelayanan",validate:i.a})),l.a.createElement("div",{className:"col-lg-1"},l.a.createElement(r.a,{name:"jam",component:m.c,type:"text",label:"Jam",placeholder:"Masukan Jam"})),l.a.createElement("div",{className:"col-lg-3"},l.a.createElement(r.a,{name:"id_mekanik",component:m.e,options:this.props.listsales.filter(e=>"MKN"===e.kode_divisi).map(e=>{return{value:e.kode_pegawai,name:e.nama_pegawai}}),type:"text",label:"ID Mekanik",placeholder:"Masukan ID Mekanik",validate:i.a,loading:this.props.listsales===[]})),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("label",{htmlFor:""},"Catatan"),l.a.createElement(r.a,{name:"catatan",component:"textarea",type:"text",label:"Catatan",placeholder:"Masukan Catatan",className:"form-control",validate:i.a}),l.a.createElement("span",null,"**Mohon Isi Catatan")))),l.a.createElement("div",{className:"col-lg-12 mt-3"},l.a.createElement("div",{className:"text-right"},l.a.createElement("button",{className:"btn btn-primary",disabled:this.props.onSend},this.props.onSend?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Menyimpan"):l.a.createElement(l.a.Fragment,null,"Simpan ",l.a.createElement("i",{className:"fa fa-paper-plane ml-3 "})))))))}}u=Object(c.a)({form:"ModalBookingService",enableReinitialize:!0})(u),a.default=Object(s.b)(e=>({listCustomer:e.datamaster.listcustomer,listkategoriservice:e.datamaster.listkategoriservice,listsales:e.datamaster.listsales,onSend:e.datamaster.onSend}))(u)},487:function(e,a,t){"use strict";t.d(a,"a",function(){return n});const n=e=>e?void 0:"Tidak Boleh Kosong"}}]);
//# sourceMappingURL=60.e166e368.chunk.js.map